{"ast":null,"code":"import _regeneratorRuntime from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import UserConsumer from\"../context\";import axios from\"axios\";var UpdateUser=/*#__PURE__*/function(_Component){_inherits(UpdateUser,_Component);function UpdateUser(){var _getPrototypeOf2;var _this;_classCallCheck(this,UpdateUser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UpdateUser)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={name:\"\",department:\"\",salary:\"\",error:false};_this.changeInput=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.componentDidMount=function _callee(){var id,response,_response$data,name,salary,department;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:id=_this.props.match.params.id;_context.next=3;return _regeneratorRuntime.awrap(axios.get(\"http://localhost:3004/users/\".concat(id)));case 3:response=_context.sent;_response$data=response.data,name=_response$data.name,salary=_response$data.salary,department=_response$data.department;_this.setState({name:name,salary:salary,department:department});case 6:case\"end\":return _context.stop();}}});};_this.validateForm=function(){var _this$state=_this.state,name=_this$state.name,salary=_this$state.salary,department=_this$state.department;if(name===\"\"||salary===\"\"||department===\"\"){return false;}return true;};_this.updateUser=function _callee2(dispatch,e){var _this$state2,name,salary,department,id,updatedUser,response;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();// update user\n_this$state2=_this.state,name=_this$state2.name,salary=_this$state2.salary,department=_this$state2.department;id=_this.props.match.params.id;updatedUser={name:name,salary:salary,department:department};if(_this.validateForm()){_context2.next=7;break;}_this.setState({error:true});return _context2.abrupt(\"return\");case 7:_context2.next=9;return _regeneratorRuntime.awrap(axios.put(\"http://localhost:3004/users/\".concat(id),updatedUser));case 9:response=_context2.sent;dispatch({type:\"UPDATE_USER\",payload:response.data});_this.props.history.push(\"/\");case 12:case\"end\":return _context2.stop();}}});};return _this;}_createClass(UpdateUser,[{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,name=_this$state3.name,salary=_this$state3.salary,department=_this$state3.department,error=_this$state3.error;return React.createElement(UserConsumer,null,function(value){var dispatch=value.dispatch;return React.createElement(\"div\",{className:\"col-md-8 mb-4\"},React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-header\"},React.createElement(\"h4\",null,\"Update User Form\")),React.createElement(\"div\",{className:\"card-body\"},error?React.createElement(\"div\",{className:\"alert alert-danger\"},\"Eksik giri\\u015F yapt\\u0131n\\u0131z, l\\xFCtfen bilgilerinizi kontrol edin\"):null,React.createElement(\"form\",{onSubmit:_this2.updateUser.bind(_this2,dispatch)},React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),React.createElement(\"input\",{type:\"text\",name:\"name\",id:\"id\",placeholder:\"Enter name\",className:\"form-control\",value:name,onChange:_this2.changeInput})),React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"label\",{htmlFor:\"department\"},\"Department\"),React.createElement(\"input\",{type:\"text\",name:\"department\",id:\"department\",placeholder:\"Enter department\",className:\"form-control\",value:department,onChange:_this2.changeInput})),React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"label\",{htmlFor:\"salary\"},\"Salary\"),React.createElement(\"input\",{type:\"text\",name:\"salary\",id:\"id\",placeholder:\"Enter salary\",className:\"form-control\",value:salary,onChange:_this2.changeInput})),React.createElement(\"button\",{className:\"btn btn-danger btn-block mt-3\",type:\"submit\"},\"Add\")))));});}}]);return UpdateUser;}(Component);export default UpdateUser;","map":{"version":3,"sources":["/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/src/forms/UpdateUser.js"],"names":["React","Component","UserConsumer","axios","UpdateUser","state","name","department","salary","error","changeInput","e","setState","target","value","componentDidMount","id","props","match","params","get","response","data","validateForm","updateUser","dispatch","preventDefault","updatedUser","put","type","payload","history","push","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport UserConsumer from \"../context\";\nimport axios from \"axios\";\n\n\n\nclass UpdateUser extends Component {\n\n    state = {\n        name : \"\",\n        department : \"\",\n        salary : \"\",\n        error : false\n    }\n\n    changeInput = (e) => {\n        this.setState({\n            [e.target.name] : e.target.value\n        })\n    }\n\n    componentDidMount = async () => {\n        const {id} = this.props.match.params;\n\n        const response = await axios.get(`http://localhost:3004/users/${id}`);\n\n        const {name,salary,department} = response.data;\n\n        this.setState({\n            name,\n            salary,\n            department\n        });\n    }\n    \n    validateForm = () => {\n        const {name,salary,department} = this.state;\n        if (name === \"\" || salary === \"\" || department === \"\") {\n            return false;\n        }\n        return true;\n    }\n\n    updateUser = async (dispatch, e) => {\n        e.preventDefault();\n        // update user\n\n        const {name,salary,department} = this.state;\n        const {id} = this.props.match.params;\n\n        const updatedUser = {\n            name,\n            salary,\n            department\n        };\n\n\n        if (!this.validateForm()){\n            this.setState({\n                error : true\n            })\n            return;\n        }\n\n        const response = await axios.put(`http://localhost:3004/users/${id}`, updatedUser);\n\n        dispatch({type : \"UPDATE_USER\", payload : response.data});\n\n\n\n\n        this.props.history.push(\"/\");\n    }\n\n    render() {\n\n        const {name, salary, department,error} = this.state;\n\n        return <UserConsumer>\n            {\n                value => {\n\n                    const {dispatch} = value;\n\n                    return (\n                        <div className = \"col-md-8 mb-4\">\n                        \n                            \n            \n                            <div className = \"card\">\n                                <div className = \"card-header\">\n                                    <h4>Update User Form</h4>\n                                </div>\n            \n                                <div className = \"card-body\">\n                                {\n                                        error ?\n                                        <div className = \"alert alert-danger\">\n                                            Eksik giriş yaptınız, lütfen bilgilerinizi kontrol edin\n                                        </div>\n                                        :null\n                                    }\n                                    <form onSubmit = {this.updateUser.bind(this, dispatch)}>\n                                        <div className = \"from-group\">\n                                            <label htmlFor = \"name\">Name</label>\n                                            <input\n                                            type = \"text\"\n                                            name = \"name\"\n                                            id = \"id\"\n                                            placeholder = \"Enter name\"\n                                            className = \"form-control\"\n                                            value = {name}\n                                            onChange = {this.changeInput}\n                                            />\n                                        </div>\n            \n                                        <div className = \"from-group\">\n                                            <label htmlFor = \"department\">Department</label>\n                                            <input\n                                            type = \"text\"\n                                            name = \"department\"\n                                            id = \"department\"\n                                            placeholder = \"Enter department\"\n                                            className = \"form-control\"\n                                            value = {department}\n                                            onChange = {this.changeInput}\n                                            \n                                            />\n                                        </div>\n            \n                                        <div className = \"from-group\">\n                                            <label htmlFor = \"salary\">Salary</label>\n                                            <input\n                                            type = \"text\"\n                                            name = \"salary\"\n                                            id = \"id\"\n                                            placeholder = \"Enter salary\"\n                                            className = \"form-control\"\n                                            value = {salary}\n                                            onChange = {this.changeInput}\n                                            \n                                            />\n                                        </div>\n            \n                                        <button className = \"btn btn-danger btn-block mt-3\" type = \"submit\">Add</button>\n                                    </form>\n                                </div>\n                            </div>\n                           \n                        </div>\n                    )\n\n                }\n            }\n        </UserConsumer>\n\n\n\n        \n    }\n}\nexport default UpdateUser;"]},"metadata":{},"sourceType":"module"}