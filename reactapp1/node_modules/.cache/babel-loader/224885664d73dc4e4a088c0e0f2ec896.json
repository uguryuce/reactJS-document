{"ast":null,"code":"import _regeneratorRuntime from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/regenerator\";import _defineProperty from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import posed from'react-pose';import UserConsumer from\"../context\";import User from'../components/User';import axios from\"axios\";var Animation=posed.div({visible:{opacity:1,applyAtStart:{display:\"block\"}},hidden:{opacity:0,applyAtEnd:{display:\"none\"}}});var AddUser=/*#__PURE__*/function(_Component){_inherits(AddUser,_Component);function AddUser(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddUser);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddUser)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={visible:false,name:\"\",department:\"\",salary:\"\",error:false};_this.changeVisiblity=function(e){_this.setState({visible:!_this.state.visible});};_this.validateForm=function(){var _this$state=_this.state,name=_this$state.name,salary=_this$state.salary,department=_this$state.department;if(name===\"\"||salary===\"\"||department===\"\"){return false;}return true;};_this.changeInput=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.addUser=function _callee(dispatch,e){var _this$state2,name,department,salary,newUser,response;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state2=_this.state,name=_this$state2.name,department=_this$state2.department,salary=_this$state2.salary;newUser={name:name,salary:salary,department:department};if(_this.validateForm()){_context.next=6;break;}_this.setState({error:true});return _context.abrupt(\"return\");case 6:_context.next=8;return _regeneratorRuntime.awrap(axios.post(\"http://localhost:3004/users\",newUser));case 8:response=_context.sent;dispatch({type:\"ADD_USER\",payload:response.data});_this.props.history.push(\"/\");case 11:case\"end\":return _context.stop();}}});};return _this;}_createClass(AddUser,[{key:\"render\",value:function render(){var _this2=this;var _this$state3=this.state,visible=_this$state3.visible,name=_this$state3.name,salary=_this$state3.salary,department=_this$state3.department,error=_this$state3.error;return React.createElement(UserConsumer,null,function(value){var dispatch=value.dispatch;return React.createElement(\"div\",{className:\"col-md-8 mb-4\"},React.createElement(\"button\",{onClick:_this2.changeVisiblity,className:\"btn btn-dark btn-block bm-1\"},visible?\"Hide Form\":\"Show Form\"),React.createElement(Animation,{pose:visible?\"visible\":\"hidden\"},React.createElement(\"div\",{className:\"card\"},React.createElement(\"div\",{className:\"card-header\"},React.createElement(\"h4\",null,\"Add User Form\")),React.createElement(\"div\",{className:\"card-body\"},error?React.createElement(\"div\",{className:\"alert alert-danger\"},\"Eksik giri\\u015F yapt\\u0131n\\u0131z, l\\xFCtfen bilgilerinizi kontrol edin\"):null,React.createElement(\"form\",{onSubmit:_this2.addUser.bind(_this2,dispatch)},React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"label\",{htmlFor:\"name\"},\"Name\"),React.createElement(\"input\",{type:\"text\",name:\"name\",id:\"id\",placeholder:\"Enter name\",className:\"form-control\",value:name,onChange:_this2.changeInput})),React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"label\",{htmlFor:\"department\"},\"Department\"),React.createElement(\"input\",{type:\"text\",name:\"department\",id:\"department\",placeholder:\"Enter department\",className:\"form-control\",value:department,onChange:_this2.changeInput})),React.createElement(\"div\",{className:\"from-group\"},React.createElement(\"label\",{htmlFor:\"salary\"},\"Salary\"),React.createElement(\"input\",{type:\"text\",name:\"salary\",id:\"id\",placeholder:\"Enter salary\",className:\"form-control\",value:salary,onChange:_this2.changeInput})),React.createElement(\"button\",{className:\"btn btn-danger btn-block mt-3\",type:\"submit\"},\"Add\"))))));});}}]);return AddUser;}(Component);export default AddUser;","map":{"version":3,"sources":["/Users/uguryuce/Documents/GitHub/reactJS-document/reactapp1/src/forms/AddUser.js"],"names":["React","Component","posed","UserConsumer","User","axios","Animation","div","visible","opacity","applyAtStart","display","hidden","applyAtEnd","AddUser","state","name","department","salary","error","changeVisiblity","e","setState","validateForm","changeInput","target","value","addUser","dispatch","preventDefault","newUser","post","response","type","payload","data","props","history","push","bind"],"mappings":"y+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,YAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,YAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,GAAMC,CAAAA,SAAS,CAAGJ,KAAK,CAACK,GAAN,CAAU,CACxBC,OAAO,CAAG,CACNC,OAAO,CAAG,CADJ,CAENC,YAAY,CAAG,CACXC,OAAO,CAAG,OADC,CAFT,CADc,CAOxBC,MAAM,CAAG,CACLH,OAAO,CAAG,CADL,CAELI,UAAU,CAAG,CACTF,OAAO,CAAG,MADD,CAFR,CAPe,CAAV,CAAlB,C,GAeMG,CAAAA,O,mYAEFC,K,CAAQ,CACJP,OAAO,CAAG,KADN,CAEJQ,IAAI,CAAG,EAFH,CAGJC,UAAU,CAAG,EAHT,CAIJC,MAAM,CAAG,EAJL,CAKJC,KAAK,CAAG,KALJ,C,OAQRC,e,CAAkB,SAACC,CAAD,CAAO,CACrB,MAAKC,QAAL,CAAc,CACVd,OAAO,CAAG,CAAC,MAAKO,KAAL,CAAWP,OADZ,CAAd,EAGH,C,OAEDe,Y,CAAe,UAAM,iBACgB,MAAKR,KADrB,CACVC,IADU,aACVA,IADU,CACLE,MADK,aACLA,MADK,CACED,UADF,aACEA,UADF,CAEjB,GAAID,IAAI,GAAK,EAAT,EAAeE,MAAM,GAAK,EAA1B,EAAgCD,UAAU,GAAK,EAAnD,CAAuD,CACnD,MAAO,MAAP,CACH,CACD,MAAO,KAAP,CACH,C,OAEDO,W,CAAc,SAACH,CAAD,CAAO,CACjB,MAAKC,QAAL,oBACKD,CAAC,CAACI,MAAF,CAAST,IADd,CACsBK,CAAC,CAACI,MAAF,CAASC,KAD/B,GAGH,C,OAEDC,O,CAAU,iBAAOC,QAAP,CAAiBP,CAAjB,4KACNA,CAAC,CAACQ,cAAF,GADM,aAE6B,MAAKd,KAFlC,CAECC,IAFD,cAECA,IAFD,CAEOC,UAFP,cAEOA,UAFP,CAEmBC,MAFnB,cAEmBA,MAFnB,CAIAY,OAJA,CAIU,CAEZd,IAAI,CAAGA,IAFK,CAGZE,MAAM,CAAGA,MAHG,CAIZD,UAAU,CAAGA,UAJD,CAJV,IAWD,MAAKM,YAAL,EAXC,yBAYF,MAAKD,QAAL,CAAc,CACVH,KAAK,CAAG,IADE,CAAd,EAZE,yFAkBiBd,KAAK,CAAC0B,IAAN,+BAA0CD,OAA1C,CAlBjB,SAkBAE,QAlBA,eAuBNJ,QAAQ,CAAC,CAACK,IAAI,CAAG,UAAR,CAAoBC,OAAO,CAAGF,QAAQ,CAACG,IAAvC,CAAD,CAAR,CAEA,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EAzBM,+C,0EA4BD,kCAE8C,KAAKvB,KAFnD,CAEEP,OAFF,cAEEA,OAFF,CAEWQ,IAFX,cAEWA,IAFX,CAEiBE,MAFjB,cAEiBA,MAFjB,CAEyBD,UAFzB,cAEyBA,UAFzB,CAEqCE,KAFrC,cAEqCA,KAFrC,CAIL,MAAO,qBAAC,YAAD,MAEC,SAAAO,KAAK,CAAI,IAEEE,CAAAA,QAFF,CAEcF,KAFd,CAEEE,QAFF,CAIL,MACI,4BAAK,SAAS,CAAG,eAAjB,EAEI,8BAAQ,OAAO,CAAI,MAAI,CAACR,eAAxB,CAAyC,SAAS,CAAG,6BAArD,EAAoFZ,OAAO,CAAG,WAAH,CAAiB,WAA5G,CAFJ,CAII,oBAAC,SAAD,EAAW,IAAI,CAAIA,OAAO,CAAG,SAAH,CAAe,QAAzC,EAEA,2BAAK,SAAS,CAAG,MAAjB,EACI,2BAAK,SAAS,CAAG,aAAjB,EACI,8CADJ,CADJ,CAKI,2BAAK,SAAS,CAAG,WAAjB,EAEQW,KAAK,CACL,2BAAK,SAAS,CAAG,oBAAjB,8EADK,CAIJ,IANT,CAQI,4BAAM,QAAQ,CAAI,MAAI,CAACQ,OAAL,CAAaY,IAAb,CAAkB,MAAlB,CAAwBX,QAAxB,CAAlB,EACI,2BAAK,SAAS,CAAG,YAAjB,EACI,6BAAO,OAAO,CAAG,MAAjB,SADJ,CAEI,6BACA,IAAI,CAAG,MADP,CAEA,IAAI,CAAG,MAFP,CAGA,EAAE,CAAG,IAHL,CAIA,WAAW,CAAG,YAJd,CAKA,SAAS,CAAG,cALZ,CAMA,KAAK,CAAIZ,IANT,CAOA,QAAQ,CAAI,MAAI,CAACQ,WAPjB,EAFJ,CADJ,CAcI,2BAAK,SAAS,CAAG,YAAjB,EACI,6BAAO,OAAO,CAAG,YAAjB,eADJ,CAEI,6BACA,IAAI,CAAG,MADP,CAEA,IAAI,CAAG,YAFP,CAGA,EAAE,CAAG,YAHL,CAIA,WAAW,CAAG,kBAJd,CAKA,SAAS,CAAG,cALZ,CAMA,KAAK,CAAIP,UANT,CAOA,QAAQ,CAAI,MAAI,CAACO,WAPjB,EAFJ,CAdJ,CA4BI,2BAAK,SAAS,CAAG,YAAjB,EACI,6BAAO,OAAO,CAAG,QAAjB,WADJ,CAEI,6BACA,IAAI,CAAG,MADP,CAEA,IAAI,CAAG,QAFP,CAGA,EAAE,CAAG,IAHL,CAIA,WAAW,CAAG,cAJd,CAKA,SAAS,CAAG,cALZ,CAMA,KAAK,CAAIN,MANT,CAOA,QAAQ,CAAI,MAAI,CAACM,WAPjB,EAFJ,CA5BJ,CA0CI,8BAAQ,SAAS,CAAG,+BAApB,CAAoD,IAAI,CAAG,QAA3D,QA1CJ,CARJ,CALJ,CAFA,CAJJ,CADJ,CAsEH,CA5EF,CAAP,CAmFH,C,qBAjJiBvB,S,EAmJtB,cAAea,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react'\nimport posed from 'react-pose';\nimport UserConsumer from \"../context\";\nimport User from '../components/User';\nimport axios from \"axios\";\n\n\nconst Animation = posed.div({\n    visible : {\n        opacity : 1,\n        applyAtStart : {\n            display : \"block\"\n        }\n    },\n    hidden : {\n        opacity : 0,\n        applyAtEnd : {\n            display : \"none\"\n        }\n    }\n});\n\nclass AddUser extends Component {\n\n    state = {\n        visible : false,\n        name : \"\",\n        department : \"\",\n        salary : \"\",\n        error : false\n    }\n\n    changeVisiblity = (e) => {\n        this.setState({\n            visible : !this.state.visible\n        })\n    }\n\n    validateForm = () => {\n        const {name,salary,department} = this.state;\n        if (name === \"\" || salary === \"\" || department === \"\") {\n            return false;\n        }\n        return true;\n    }\n\n    changeInput = (e) => {\n        this.setState({\n            [e.target.name] : e.target.value\n        })\n    }\n\n    addUser = async (dispatch, e) => {\n        e.preventDefault();\n        const {name, department, salary} = this.state;\n\n        const newUser = {\n            \n            name : name,\n            salary : salary,\n            department : department\n        }\n\n        if (!this.validateForm()){\n            this.setState({\n                error : true\n            })\n            return;\n        }\n\n        const response = await axios.post(`http://localhost:3004/users`, newUser);\n\n\n\n\n        dispatch({type : \"ADD_USER\", payload : response.data});\n\n        this.props.history.push(\"/\");\n    }\n\n    render() {\n\n        const {visible, name, salary, department, error} = this.state;\n\n        return <UserConsumer>\n            {\n                value => {\n\n                    const {dispatch} = value;\n\n                    return (\n                        <div className = \"col-md-8 mb-4\">\n            \n                            <button onClick = {this.changeVisiblity} className = \"btn btn-dark btn-block bm-1\">{visible ? \"Hide Form\" : \"Show Form\"}</button>\n            \n                            <Animation pose = {visible ? \"visible\" : \"hidden\"}>\n            \n                            <div className = \"card\">\n                                <div className = \"card-header\">\n                                    <h4>Add User Form</h4>\n                                </div>\n            \n                                <div className = \"card-body\">\n                                    {\n                                        error ?\n                                        <div className = \"alert alert-danger\">\n                                            Eksik giriş yaptınız, lütfen bilgilerinizi kontrol edin\n                                        </div>\n                                        :null\n                                    }\n                                    <form onSubmit = {this.addUser.bind(this, dispatch)}>\n                                        <div className = \"from-group\">\n                                            <label htmlFor = \"name\">Name</label>\n                                            <input\n                                            type = \"text\"\n                                            name = \"name\"\n                                            id = \"id\"\n                                            placeholder = \"Enter name\"\n                                            className = \"form-control\"\n                                            value = {name}\n                                            onChange = {this.changeInput}\n                                            />\n                                        </div>\n            \n                                        <div className = \"from-group\">\n                                            <label htmlFor = \"department\">Department</label>\n                                            <input\n                                            type = \"text\"\n                                            name = \"department\"\n                                            id = \"department\"\n                                            placeholder = \"Enter department\"\n                                            className = \"form-control\"\n                                            value = {department}\n                                            onChange = {this.changeInput}\n                                            \n                                            />\n                                        </div>\n            \n                                        <div className = \"from-group\">\n                                            <label htmlFor = \"salary\">Salary</label>\n                                            <input\n                                            type = \"text\"\n                                            name = \"salary\"\n                                            id = \"id\"\n                                            placeholder = \"Enter salary\"\n                                            className = \"form-control\"\n                                            value = {salary}\n                                            onChange = {this.changeInput}\n                                            \n                                            />\n                                        </div>\n            \n                                        <button className = \"btn btn-danger btn-block mt-3\" type = \"submit\">Add</button>\n                                    </form>\n                                </div>\n                            </div>\n                            </Animation>\n                        </div>\n                    )\n\n                }\n            }\n        </UserConsumer>\n\n\n\n        \n    }\n}\nexport default AddUser;"]},"metadata":{},"sourceType":"module"}